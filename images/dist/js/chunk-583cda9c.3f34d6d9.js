(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-583cda9c"],{2990:function(e,t,a){},"54ae":function(e,t,a){},"5deb":function(e,t,a){"use strict";a.r(t);var n,i,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-common order"},[a("div",{staticClass:"header"},[a("div",{staticClass:"more-form"},[a("div",{staticClass:"form-box"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"form"},[a("a-input",{attrs:{size:"large",placeholder:"请输入岗位"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1)]),a("div",{staticClass:"form-item"},[a("a-button",{staticClass:"searchButton",attrs:{size:"large",type:"primary"},on:{click:e.search}},[e._v(" 搜索 ")])],1)])]),a("div",{staticClass:"button-box"},[a("a-tooltip",{attrs:{title:e.pagination.total?null:"暂无搜索结果，无需导出"}},[a("a-button",{staticClass:"downButton",attrs:{size:"large"},on:{click:function(t){e.ediData={}}}},[e._v(" 新增岗位 ")])],1)],1)]),a("div",{staticClass:"table"},[a("a-table",{staticClass:"table-border-bottom table-scrollbar common-modal-box",attrs:{columns:e.scaleColumns,"data-source":e.tableList,pagination:e.pagination,scroll:e.tableScroll,loading:e.getTableListLoading,rowKey:function(e){return""+e.id}},on:{change:e.pageChange},scopedSlots:e._u([{key:"indexText",fn:function(t,n,i){return[e.sort&&"index"===e.sort.name&&"descend"===e.sort.value?a("div",[e._v(e._s((e.tableList.length-i).toString().padStart(2,"0")))]):a("div",[e._v(e._s((i+1).toString().padStart(2,"0")))])]}},{key:"operation",fn:function(t,n){return[a("div",{staticClass:"table-operation"},[a("span",[a("a",{attrs:{disabled:e.updateData.id},on:{click:function(t){e.ediData=n}}},[e._v("编辑")]),a("a",{staticClass:"see",on:{click:function(t){e.deleteId=n.id}}},[e._v("删除")])])])]}}])})],1),a("DeleteModal",{attrs:{visible:!!e.deleteId,confirmLoading:e.delLoading,cancel:e.delCancel,ok:e.del}}),a("EditModal",{attrs:{visible:!!e.ediData,jobDetails:e.ediData,confirmLoading:e.editLoading,cancel:e.editCancel,ok:e.edit}})],1)},o=[],r=a("1da1"),c=a("ade3"),d=(a("cd17"),a("ed3b")),l=(a("c68a"),a("0020")),u=(a("9a33"),a("f933")),m=(a("96cf"),a("b0c0"),a("d3b7"),a("3b98")),f=a("72ed"),p=a("34b7"),b=a("15ba"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticClass:"editModal common-modal-box",attrs:{title:"编辑",visible:e.visible,"confirm-loading":e.confirmLoading,okText:"确认",okButtonProps:{props:{size:"large"}},cancelButtonProps:{props:{size:"large"}}},on:{ok:e.handleOk,cancel:e.cancel}},[a("a-spin",{attrs:{spinning:e.loading}},[a("div",{staticClass:"modal-box"},[a("div",{staticClass:"form"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[e._v("岗位名称")]),a("a-input",{attrs:{placeholder:"请输入岗位名称",size:"large"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)]),a("div",{staticClass:"job-permission"},[a("Permission",{attrs:{jobId:"-1",title:"权限绑定",type:"update"},model:{value:e.form.permissionsIds,callback:function(t){e.$set(e.form,"permissionsIds",t)},expression:"form.permissionsIds"}})],1)])])],1)},v=[],h=a("5530"),x=(a("d81d"),a("498a"),a("ac1f"),a("1276"),a("72e5")),k=a("8af3"),C={name:"UserEditModal",props:{jobDetails:{type:Object,default:function(e){return{}}},visible:{type:Boolean,default:!1},ok:{type:Function,default:function(e){}},cancel:{type:Function,default:function(e){}}},data:function(){return{confirmLoading:!1,loading:!1,form:{id:"",name:"",permissionsIds:[]}}},computed:{},watch:{jobDetails:function(e){this.form.permissionsIds=[],this.form.name=void 0,this.form.id=void 0,e&&(this.form.id=e.id,this.form.name=e.name,e.id&&this.getJobPermission(e.id))}},components:(n={},Object(c["a"])(n,d["a"].name,d["a"]),Object(c["a"])(n,"Permission",k["a"]),n),methods:{permissionChange:function(e){},getJobPermission:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.next=3,Object(p["b"])({id:e});case 3:if(n=a.sent,e===t.form.id){a.next=6;break}return a.abrupt("return");case 6:t.loading=!1,t.form.permissionsIds=Object(x["a"])(n.data).map((function(e){return e.ids}));case 8:case"end":return a.stop()}}),a)})))()},handleOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.name&&e.form.name.trim()){t.next=3;break}return e.$message.warn("请填写岗位名称！"),t.abrupt("return");case 3:return a=e.form.id?"put":"post",n=e.form.id?"修改":"添加",e.confirmLoading=!0,t.next=8,p["a"][a](Object(h["a"])(Object(h["a"])({},e.form),{},{permissionsIds:e.form.permissionsIds.map((function(e){return e.split(",")}))}));case 8:e.confirmLoading=!1,e.$message.success(n+"操作成功！"),e.ok();case 11:case"end":return t.stop()}}),t)})))()}}},w=C,j=(a("66ad"),a("2877")),O=Object(j["a"])(w,g,v,!1,null,"08f9070c",null),L=O.exports,I={name:"Order",data:function(){var e=[{title:"序号",dataIndex:"index",key:"index",width:72,align:"center",scopedSlots:{customRender:"indexText"}},{title:"岗位名",dataIndex:"name",key:"name",width:144,align:"center"},{title:"操作",dataIndex:"operation",key:"operation",width:72,align:"center",scopedSlots:{customRender:"operation"}}];return{isTableFilterTime:!1,deleteId:void 0,delLoading:!1,initColumns:e,ediData:void 0,editLoading:!1}},mixins:[m["a"],f["a"]],components:(i={},Object(c["a"])(i,u["a"].name,u["a"]),Object(c["a"])(i,l["a"].name,l["a"]),Object(c["a"])(i,d["a"].name,d["a"]),Object(c["a"])(i,"DeleteModal",b["a"]),Object(c["a"])(i,"EditModal",L),i),computed:{},methods:{getTableList:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p["a"].get(e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})))()},delCancel:function(){this.deleteId=void 0},del:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.delLoading=!0,t.next=3,p["a"].delete({id:e.deleteId}).finally((function(){e.delLoading=!1}));case 3:e.deleteId=void 0,e.requestTableList();case 5:case"end":return t.stop()}}),t)})))()},editCancel:function(){this.ediData=void 0},edit:function(){this.editCancel(),this.requestTableList()}},created:function(){},beforeDestroy:function(){}},y=I,_=(a("f1be"),Object(j["a"])(y,s,o,!1,null,"b14da3e6",null));t["default"]=_.exports},"66ad":function(e,t,a){"use strict";a("2990")},f1be:function(e,t,a){"use strict";a("54ae")}}]);
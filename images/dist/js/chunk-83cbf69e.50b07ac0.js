(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83cbf69e"],{1740:function(t,a,e){},68589:function(t,a,e){"use strict";e.d(a,"e",(function(){return i})),e.d(a,"f",(function(){return o})),e.d(a,"g",(function(){return c})),e.d(a,"h",(function(){return s})),e.d(a,"a",(function(){return l})),e.d(a,"b",(function(){return d})),e.d(a,"c",(function(){return u})),e.d(a,"d",(function(){return p})),e.d(a,"i",(function(){return m})),e.d(a,"j",(function(){return g}));var n=e("8a05"),r={companyChargingDaily:"/static/company/day",companyChargingDailyExport:"/static/company/day/export",hourChargingDaily:"/static/company/hour",hourChargingDailyExport:"/static/company/hour/export",summaryDaily:"/static/day",summaryDailyExport:"/static/day/export",stationDay:"/static/station/day",stationDayExport:"/static/station/day/export",peakValleyFlatDay:"/static/station/peak-valley-flat",peakValleyFlatDayExport:"/static/station/peak-valley-flat/export"};function i(t){return Object(n["c"])({url:r.peakValleyFlatDay,params:t,method:"get"})}function o(t){return Object(n["c"])({url:r.peakValleyFlatDayExport,params:t,responseType:"blob",timeout:12e4,method:"get"})}function c(t){return Object(n["c"])({url:r.stationDay,params:t,method:"get"})}function s(t){return Object(n["c"])({url:r.stationDayExport,params:t,responseType:"blob",timeout:12e4,method:"get"})}function l(t){return Object(n["c"])({url:r.companyChargingDaily,params:t,method:"get"})}function d(t){return Object(n["c"])({url:r.companyChargingDailyExport,params:t,responseType:"blob",timeout:12e4,method:"get"})}function u(t){return Object(n["c"])({url:r.hourChargingDaily,params:t,method:"get"})}function p(t){return Object(n["c"])({url:r.hourChargingDailyExport,params:t,responseType:"blob",timeout:12e4,method:"get"})}function m(t){return Object(n["c"])({url:r.summaryDaily,params:t,method:"get"})}function g(t){return Object(n["c"])({url:r.summaryDailyExport,params:t,responseType:"blob",timeout:12e4,method:"get"})}},b5d7:function(t,a,e){"use strict";e.r(a);var n,r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-common order"},[e("div",{staticClass:"header"},[e("div",{staticClass:"more-form"},[e("div",{staticClass:"form-box"},[e("div",{staticClass:"form-item"},[e("label",[t._v("营运公司")]),e("div",{staticClass:"form parkingNo"},[e("CompanySelect",{attrs:{placeholder:"默认所有公司",selectType:"in-form"},model:{value:t.filters.company,callback:function(a){t.$set(t.filters,"company",a)},expression:"filters.company"}})],1)]),e("div",{staticClass:"form-item"},[e("label",{attrs:{"data-number":"two"}},[t._v("日期")]),e("div",{staticClass:"form parkingNo"},[e("a-date-picker",{attrs:{"disabled-date":t.disabledEndDate,size:"large",format:t.formText,placeholder:"统计日期"},model:{value:t.filters.date,callback:function(a){t.$set(t.filters,"date",a)},expression:"filters.date"}})],1)]),e("div",{staticClass:"form-item"},[e("a-button",{staticClass:"searchButton",attrs:{size:"large",type:"primary"},on:{click:t.search}},[t._v(" 搜索 ")])],1)])]),e("div",{staticClass:"button-box"},[e("a-tooltip",{attrs:{title:t.tableList.length?null:"暂无搜索结果，无需导出"}},[e("a-button",{staticClass:"downButton",attrs:{size:"large",disabled:!t.tableList.length,loading:t.excelLoading},on:{click:t.tableExport}},[t._v(" 导出Excel ")])],1)],1)]),e("div",{staticClass:"table"},[e("a-table",{staticClass:"table-border-bottom table-scrollbar common-modal-box",attrs:{columns:t.scaleColumns,"data-source":t.tableList,pagination:!1,loading:t.getTableListLoading,rowKey:function(t){return""+t.company}},on:{change:t.pageChange}})],1)])},i=[],o=e("1da1"),c=e("ade3"),s=(e("9980"),e("0bb7")),l=(e("cd17"),e("ed3b")),d=(e("9a33"),e("f933")),u=(e("c68a"),e("0020")),p=(e("96cf"),e("b0c0"),e("7db0"),e("4de4"),e("d81d"),e("99af"),e("4d90"),e("d3b7"),e("25f0"),e("4e82"),e("ca00")),m=e("3b98"),g=e("72ed"),y=e("a74d"),b=e("68589"),f=e("c1df"),h=e.n(f),x={name:"CompanyChargingDaily",data:function(){var t="YYYY-MM-DD",a=[{title:"序",dataIndex:"index",key:"index",width:72,align:"center"},{title:"营运公司",sorter:!0,dataIndex:"company",key:"company",width:100,align:"center"},{title:"配车数量",sorter:!0,dataIndex:"busNumber",key:"busNumber",width:100,align:"center"},{title:"日充电次数",sorter:!0,dataIndex:"chargingCount",key:"chargingCount",width:100,align:"center"},{title:"充电电量（度）",sorter:!0,dataIndex:"chargingCapacity",key:"chargingCapacity",width:100,align:"center"},{title:"日均充电电量（度）",sorter:!0,dataIndex:"chargingCapacityAverage",key:"chargingCapacityAverage",width:120,align:"center"},{title:"当日单次最高充电电量（度）",sorter:!0,dataIndex:"orderMaxChargingCapacity",key:"orderMaxChargingCapacity",width:160,align:"center"},{title:"当日累计最高充电量（度）",sorter:!0,dataIndex:"busMaxChargingCapacity",key:"busMaxChargingCapacity",width:150,align:"center"},{title:"当日最低充电量（度）",sorter:!0,dataIndex:"orderMinChargingCapacity",key:"orderMinChargingCapacity",width:140,align:"center"}];return{filters:{company:void 0,date:h()()},formText:t,initColumns:a,isTableFilterTime:!1}},mixins:[m["a"],g["a"]],components:(n={},Object(c["a"])(n,u["a"].name,u["a"]),Object(c["a"])(n,d["a"].name,d["a"]),Object(c["a"])(n,l["a"].name,l["a"]),Object(c["a"])(n,s["a"].name,s["a"]),Object(c["a"])(n,"CompanySelect",y["e"]),n),computed:{},methods:{getTableList:function(t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=JSON.parse(t.filter||"[]").find((function(t){return"date"===t.name})),n){e.next=4;break}return a.$message.warn("请选择日期！"),e.abrupt("return");case 4:return t.date=n.value,e.next=7,Object(b["a"])(t);case 7:return r=e.sent,r.data.list&&r.data.list.length&&(r.data.list=r.data.list.concat([r.data.summary]).map((function(t,a){return t.company?t.index=(a+1).toString().padStart(2,"0"):t.company="总计",t.busMaxChargingCapacity=t.busMaxChargingCapacity||0,t}))),e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e)})))()},tableExport:function(){var t=this,a=this.pagination,e=a.sort,n=a.filter,r=a.date;t.excelLoading=!0,Object(b["b"])({sort:e,filter:n,date:r}).then((function(t){return t instanceof Blob&&"application/json"!==t.type?(Object(p["b"])("营运公司充电日报.xlsx",t),!0):t.text()})).then((function(a){if(a&&"string"===typeof a){var e=JSON.parse(a);t.$message.error("导出失败：".concat(e.message))}t.excelLoading=!1})).catch((function(a){t.$message.error("导出失败"),t.excelLoading=!1}))}},created:function(){},beforeDestroy:function(){}},C=x,v=(e("cb00"),e("2877")),k=Object(v["a"])(C,r,i,!1,null,"2394ef33",null);a["default"]=k.exports},cb00:function(t,a,e){"use strict";e("1740")}}]);